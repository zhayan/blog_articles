---
title: 【OS】进程和线程
date: 2021-03-06 10:12:48
toc: true
tags:
- 操作系统
categories:
- OS
---
进程与线程区别？多进程和多线程健壮性？linux中的线程？

<!-- more -->

# 二者比较

## 1. 定义
进程是操作系统资源分配的基本单位；线程是CPU调度、程序执行的最小单元。

进程包含可执行程序代码、系统资源（打开的文件、挂起的信号、内存地址空间、一或多个执行线程等），进程是正在执行的程序代码的实时结果。

线程是在进程中活动的对象，包含独立的程序计数器、线程栈和寄存器。内核的调度对象是线程。

## 2.内存
进程有独立的地址空间，而同一进程中的线程共享该进程的地址空间。比如在linux下面启动一个新的进程，系统必须分配给它独立的地址空间，建立众多的数据表来维护它的代码段、堆栈段和数据段，这是一种非常昂贵的多任务工作方式。

而运行一个进程中的线程，它们之间共享大部分数据，使用相同的地址空间，因此启动一个线程，切换一个线程远比进程操作要快，花费也要小得多。

## 3.通信
线程之间的通信比较方便。统一进程下的线程共享数据（比如全局变量，静态变量，打开的文件，子进程），通过这些数据来通信不仅快捷而且方便，当然如何处理好这些访问的同步与互斥正是编写多线程程序的难点。

而进程之间的通信只能通过进程通信的方式进行。

对同一进程中的线程，在一个线程中分配的堆在各个线程中均可以使用，在一个线程中打开的文件各个线程均可用。

## 4.执行
线程的执行与进程是有区别的。每个独立的进程有有自己的一个程序入口，顺序执行序列和程序的出口，但是线程不能独立执行，必须依附于程序之中，由应用程序提供多个线程的并发控制。

## 5.多进程和多线程
多进程比多线程程序要健壮。一个线程死掉整个进程就死掉了，但是在保护模式下，一个进程死掉对另一个进程没有直接影响。

## 6.linux中
linux对线程和进程并不特别区分，线程是一种特殊的进程，一种与其他进程共享某些资源的进程。

linux中进程具有父子关系，形成进程树，但是线程是平等的没有父子关系。

